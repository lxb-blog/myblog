---
title: ä¾§è¾¹æ æ·»åŠ ä¸ªæ€§å®šä½æ¬¢è¿ä¿¡æ¯
tags:
  - hexo
  - æ•™ç¨‹
  - hexoç¾åŒ–
categories:
  - æ•™ç¨‹
  - ç¾åŒ–
  - ä¾§è¾¹æ 
cover: 'https://img.siyouyun.eu.org/file/1730263971714_p4.jpg'
swiper_index: 10
abstract: 'æœ‰ä¸œè¥¿è¢«åŠ å¯†äº†, è¯·è¾“å…¥å¯†ç æŸ¥çœ‹.'
message: 'æ‚¨å¥½, è¿™é‡Œéœ€è¦å¯†ç .'
theme: xray
wrong_pass_message: 'æŠ±æ­‰, è¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹, è¯·å†è¯•è¯•.'
wrong_hash_message: 'æŠ±æ­‰, è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.'
abbrlink: a5b8269f
date: 2024-10-29 10:18:41
top:
password:
---
# åœ¨ä¾§è¾¹æ æ·»åŠ ä¸ªæ€§å®šä½æ¬¢è¿ä¿¡æ¯

## æ ·å¼é¢„è§ˆ

![image.png](https://img.siyouyun.eu.org/file/1729924734569_image.png)


{% link ç‚¹å‡»è·³è½¬åŸå¸–,Kouseki,https://blog.kouseki.cn/posts/da2a.html %}

{% link åœ¨ä¾§è¾¹æ æ·»åŠ ä¸ªæ€§å®šä½æ¬¢è¿ä¿¡æ¯,é“­å¿ƒçŸ³åˆ»,https://blog.kouseki.cn/posts/da2a.html %}



## æ“ä½œæ­¥éª¤

- æ‰“å¼€[è…¾è®¯ä½ç½®æœåŠ¡](https://lbs.qq.com/dev/console/application/mine)ï¼Œç™»å½•ä½ çš„è´¦å·
- ç‚¹å‡»`åˆ›å»ºåº”ç”¨`ï¼Œå¡«ä¸€ä¸‹åç§°å’Œç±»å‹ï¼Œéšæ„å³å¯
- ç‚¹å‡»`æ·»åŠ Key`ï¼Œkeyåç§°éšæ„ï¼Œå‹¾é€‰`WebServiceAPI`ï¼Œæ­¤å¤„ç™½åå•å¯ä»¥è‡ªé€‰
  ä¾‹å¦‚æˆ‘é€‰çš„æ˜¯åŸŸåç™½åå•ï¼Œæ³¨æ„æ­¤å¤„æœ¬åœ°éƒ¨ç½²localhostæ˜¯æœ‰æ•ˆçš„ï¼Œéœ€å¸¦ä¸Šç«¯å£å·ã€‚
  éƒ¨ç½²è‡³å…¬ç½‘å¡«å†™åŸŸåå³å¯ï¼Œä¸éœ€è¦ç«¯å£å·ã€‚ä¾‹å¦‚æœ¬ç«™ï¼šblog.kouseki.cnã€‚

![image.png](https://img.siyouyun.eu.org/file/1729924710311_image.png)

- è®°å½•ä¸‹å¾—åˆ°çš„`Key`

- åœ¨`_config.anzhiyu.yml`ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸‹`inject`é…ç½®é¡¹ä¸­çš„`bottom`å¼•å…¥`jquery.min.js`

~~~yaml
inject:

  bottom:
    - <script type="text/javascript" src="https://unpkg.zhimg.com/jquery@latest/dist/jquery.min.js"></script> # jquery.min.js
~~~

- åœ¨hexoç›®å½•ä¸‹æ–°å»º`source/js/welcome.js`æ–‡ä»¶ï¼Œæ–°å¢ä»¥ä¸‹å†…å®¹(è‹¥æ²¡æœ‰jsæ–‡ä»¶å¤¹ç›´æ¥æ–°å»ºå³å¯)

~~~yaml
const _0x5aba8d = _0x4cd5;
function _0x4cd5(_0x217f06, _0x73ce01) {
    const _0x21378a = _0x2137();
    return _0x4cd5 = function(_0x4cd5b9, _0x54a2d3) {
        _0x4cd5b9 = _0x4cd5b9 - 0x1f0;
        let _0x405c46 = _0x21378a[_0x4cd5b9];
        return _0x405c46;
    }
    ,
    _0x4cd5(_0x217f06, _0x73ce01);
}
(function(_0x237c32, _0x12657d) {
    const _0x362468 = _0x4cd5
      , _0x59ee31 = _0x237c32();
    while (!![]) {
        try {
            const _0x524e0c = parseInt(_0x362468(0x236)) / 0x1 + -parseInt(_0x362468(0x24c)) / 0x2 * (parseInt(_0x362468(0x226)) / 0x3) + -parseInt(_0x362468(0x201)) / 0x4 + parseInt(_0x362468(0x1f4)) / 0x5 * (-parseInt(_0x362468(0x21e)) / 0x6) + -parseInt(_0x362468(0x1fb)) / 0x7 + -parseInt(_0x362468(0x254)) / 0x8 + parseInt(_0x362468(0x244)) / 0x9;
            if (_0x524e0c === _0x12657d)
                break;
            else
                _0x59ee31['push'](_0x59ee31['shift']());
        } catch (_0x2a362c) {
            _0x59ee31['push'](_0x59ee31['shift']());
        }
    }
}(_0x2137, 0x555ef));
const addStyles = () => {
    const _0x503e6e = _0x4cd5
      , _0x5bd15e = document[_0x503e6e(0x20d)](_0x503e6e(0x25e));
    _0x5bd15e[_0x503e6e(0x1f7)] = '\x0a\x20\x20\x20\x20.item-content\x20{\x0a\x20\x20\x20\x20\x20\x20margin:\x205px\x200\x2010px\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20#welcome-info\x20{\x0a\x20\x20\x20\x20\x20\x20user-select:\x20none;\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20height:\x20212px;\x0a\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20\x20\x20background-color:\x20var(--anzhiyu-background);\x0a\x20\x20\x20\x20\x20\x20outline:\x201px\x20solid\x20var(--anzhiyu-card-border);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.loading-spinner\x20{\x0a\x20\x20\x20\x20\x20\x20width:\x2050px;\x0a\x20\x20\x20\x20\x20\x20height:\x2050px;\x0a\x20\x20\x20\x20\x20\x20border:\x203px\x20solid\x20rgba(0,\x200,\x200,\x200.1);\x0a\x20\x20\x20\x20\x20\x20border-radius:\x2050%;\x0a\x20\x20\x20\x20\x20\x20border-top:\x203px\x20solid\x20var(--anzhiyu-main);\x0a\x20\x20\x20\x20\x20\x20animation:\x20spin\x201s\x20linear\x20infinite;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20@keyframes\x20spin\x20{\x0a\x20\x20\x20\x20\x20\x200%\x20{\x20transform:\x20rotate(0deg);\x20}\x0a\x20\x20\x20\x20\x20\x20100%\x20{\x20transform:\x20rotate(360deg);\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.ip-address\x20{\x0a\x20\x20\x20\x20\x20\x20filter:\x20blur(5px);\x0a\x20\x20\x20\x20\x20\x20transition:\x20filter\x200.3s\x20ease;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.ip-address:hover\x20{\x0a\x20\x20\x20\x20\x20\x20filter:\x20blur(0);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.error-message\x20{\x0a\x20\x20\x20\x20\x20\x20color:\x20#ff6565;\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.error-message\x20p,\x0a\x20\x20\x20\x20.permission-dialog\x20p\x20{\x0a\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.error-icon\x20{\x0a\x20\x20\x20\x20\x20\x20font-size:\x203rem;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20#retry-button\x20{\x0a\x20\x20\x20\x20\x20\x20margin:\x200\x205px;\x0a\x20\x20\x20\x20\x20\x20color:\x20var(--anzhiyu-main);\x0a\x20\x20\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20#retry-button:hover\x20{\x0a\x20\x20\x20\x20\x20\x20transform:\x20rotate(180deg);\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.permission-dialog\x20{\x0a\x20\x20\x20\x20\x20\x20text-align:\x20center;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.permission-dialog\x20button\x20{\x0a\x20\x20\x20\x20\x20\x20margin:\x2010px\x205px;\x0a\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20border-radius:\x205px;\x0a\x20\x20\x20\x20\x20\x20background-color:\x20var(--anzhiyu-main);\x0a\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20transition:\x20opacity\x200.3s\x20ease;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.permission-dialog\x20button:hover\x20{\x0a\x20\x20\x20\x20\x20\x20opacity:\x200.8;\x0a\x20\x20\x20\x20}\x0a\x20\x20',
    document[_0x503e6e(0x206)][_0x503e6e(0x20b)](_0x5bd15e);
}
  , insertAnnouncementComponent = () => {
    const _0x527b36 = _0x4cd5;
    if (!isHomePage())
        return;
    const _0x44e3c3 = document[_0x527b36(0x215)]('.card-widget.card-info');
    if (_0x44e3c3) {
        const _0x32512a = document[_0x527b36(0x215)](_0x527b36(0x1fe));
        _0x32512a?.[_0x527b36(0x221)]();
        const _0x45866d = document['createElement'](_0x527b36(0x235));
        _0x45866d[_0x527b36(0x20f)][_0x527b36(0x1f3)](_0x527b36(0x1fd), 'card-ip-info'),
        _0x45866d[_0x527b36(0x23b)] = '\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-headline\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<i\x20class=\x22fa-solid\x20fa-user-large\x22\x20style=\x22font-size:\x2018px;color:\x20red;\x22></i>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span>æ¬¢è¿æ¥è®¿è€…ï¼</span>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22item-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20ğŸ‘‹ğŸ»\x20Hiï¼Œæˆ‘æ˜¯æå°ç™½ï¼Œæ¬¢è¿ä½ ï¼<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20â“\x20å¦‚æœ‰é—®é¢˜æ¬¢è¿è¯„è®ºåŒºäº¤æµï¼<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20ğŸ˜«\x20é¡µé¢å¼‚å¸¸ï¼Ÿå°è¯•<kbd>Ctrl</kbd>+<kbd>F5</kbd><br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20ğŸ“§\x20å¦‚éœ€è”ç³»æˆ‘ï¼š<a\x20href=\x22mailto:648226460@qq.com\x22><b>å‘é€é‚®ä»¶ğŸš€</b></a>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20<div\x20id=\x22welcome-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22loading-spinner\x22></div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20',
        _0x44e3c3[_0x527b36(0x23c)][_0x527b36(0x247)](_0x45866d, _0x44e3c3[_0x527b36(0x224)]);
    }
}
  , checkLocationPermission = () => localStorage[_0x5aba8d(0x20c)](_0x5aba8d(0x1f6)) === _0x5aba8d(0x211)
  , saveLocationPermission = _0x3a8099 => {
    const _0x187aa1 = _0x5aba8d;
    localStorage[_0x187aa1(0x21c)]('locationPermission', _0x3a8099);
}
  , showLocationPermissionDialog = () => {
    const _0x2455c2 = _0x5aba8d
      , _0x2b4960 = document[_0x2455c2(0x202)](_0x2455c2(0x22e));
    _0x2b4960[_0x2455c2(0x23b)] = _0x2455c2(0x22c),
    _0x2b4960[_0x2455c2(0x209)](_0x2455c2(0x24d), _0x5408a9 => {
        const _0x1ae6b1 = _0x2455c2;
        if (_0x5408a9[_0x1ae6b1(0x1fa)][_0x1ae6b1(0x252)] === 'BUTTON') {
            const _0x4bb323 = _0x5408a9[_0x1ae6b1(0x1fa)][_0x1ae6b1(0x24e)][_0x1ae6b1(0x1f8)]
              , _0x13cf7f = _0x4bb323 === _0x1ae6b1(0x219) ? _0x1ae6b1(0x211) : _0x1ae6b1(0x227);
            handleLocationPermission(_0x13cf7f);
        }
    }
    );
}
  , handleLocationPermission = _0x1454ce => {
    saveLocationPermission(_0x1454ce),
    _0x1454ce === 'granted' ? (showLoadingSpinner(),
    fetchIpInfo()) : showErrorMessage('æ‚¨å·²æ‹’ç»è®¿é—®ä½ç½®ä¿¡æ¯');
}
  , showLoadingSpinner = () => {
    const _0x51d00b = _0x5aba8d
      , _0x255686 = document[_0x51d00b(0x202)](_0x51d00b(0x22e));
    _0x255686['innerHTML'] = _0x51d00b(0x21a);
}
  , fetchIpInfo = async () => {
    const _0x5ef504 = _0x5aba8d;
    if (!checkLocationPermission()) {
        showLocationPermissionDialog();
        return;
    }
    showLoadingSpinner();
    try {
        const _0x50ab59 = await fetch('https://api.76.al/api/ip/query?key=qx9sB0WG5yYlZYuNZubjDm3w9m');
        if (!_0x50ab59['ok'])
            throw new Error(_0x5ef504(0x20e));
        const _0x489cba = await _0x50ab59[_0x5ef504(0x238)]();
        showWelcome(_0x489cba);
    } catch (_0x12eeb1) {
        console['error']('é”™è¯¯:', _0x12eeb1),
        showErrorMessage();
    }
}
  , getDistance = (_0x8b1f97, _0x29294b, _0x341486, _0x36cb36) => {
    const _0x27618b = _0x5aba8d
      , _0x937e83 = _0x5b9d0c => _0x5b9d0c * Math['PI'] / 0xb4
      , [_0x12c223,_0x33a126] = [_0x29294b, _0x36cb36][_0x27618b(0x239)](_0x937e83)
      , [_0x34d1ec,_0x220170] = [_0x36cb36 - _0x29294b, _0x341486 - _0x8b1f97]['map'](_0x937e83)
      , _0x54ecdc = Math[_0x27618b(0x200)](_0x34d1ec / 0x2) ** 0x2 + Math[_0x27618b(0x225)](_0x12c223) * Math['cos'](_0x33a126) * Math[_0x27618b(0x200)](_0x220170 / 0x2) ** 0x2
      , _0x2d9a60 = 0x2 * Math[_0x27618b(0x208)](Math[_0x27618b(0x24b)](_0x54ecdc), Math[_0x27618b(0x24b)](0x1 - _0x54ecdc));
    return Math[_0x27618b(0x259)](0x18e3 * _0x2d9a60);
}
  , greetings = {
    'ä¸­å›½': {
        'åŒ—äº¬å¸‚': _0x5aba8d(0x233),
        'å¤©æ´¥å¸‚': _0x5aba8d(0x210),
        'æ²³åŒ—çœ': 'å±±åŠ¿å·å·æˆå£å’ï¼Œå¤©ä¸‹é›„å…³é“é©¬é‡‘æˆˆç”±æ­¤å‘ï¼Œæ— é™æ±Ÿå±±',
        'å±±è¥¿çœ': _0x5aba8d(0x256),
        'å†…è’™å¤è‡ªæ²»åŒº': _0x5aba8d(0x232),
        'è¾½å®çœ': 'æˆ‘æƒ³åƒçƒ¤é¸¡æ¶ï¼',
        'å‰æ—çœ': _0x5aba8d(0x1fc),
        'é»‘é¾™æ±Ÿçœ': _0x5aba8d(0x258),
        'ä¸Šæµ·å¸‚': _0x5aba8d(0x240),
        'æ±Ÿè‹çœ': {
            'å—äº¬å¸‚': _0x5aba8d(0x1ff),
            'è‹å·å¸‚': _0x5aba8d(0x230),
            'å…¶ä»–': _0x5aba8d(0x250)
        },
        'æµ™æ±Ÿçœ': {
            'æ­å·å¸‚': _0x5aba8d(0x248),
            'å…¶ä»–': _0x5aba8d(0x25a)
        },
        'æ²³å—çœ': {
            'éƒ‘å·å¸‚': _0x5aba8d(0x23d),
            'ä¿¡é˜³å¸‚': 'å“ä¿¡é˜³æ¯›å°–ï¼Œæ‚Ÿäººé—´èŠ³å',
            'å—é˜³å¸‚': _0x5aba8d(0x21f),
            'é©»é©¬åº—å¸‚': _0x5aba8d(0x231),
            'å¼€å°å¸‚': _0x5aba8d(0x246),
            'æ´›é˜³å¸‚': _0x5aba8d(0x218),
            'å…¶ä»–': _0x5aba8d(0x228)
        },
        'å®‰å¾½çœ': _0x5aba8d(0x203),
        'ç¦å»ºçœ': 'äº•é‚‘ç™½äº‘é—´ï¼Œå²©åŸè¿œå¸¦å±±',
        'æ±Ÿè¥¿çœ': _0x5aba8d(0x214),
        'å±±ä¸œçœ': _0x5aba8d(0x21b),
        'æ¹–åŒ—çœ': {
            'é»„å†ˆå¸‚': _0x5aba8d(0x25d),
            'å…¶ä»–': _0x5aba8d(0x23f)
        },
        'æ¹–å—çœ': '74751ï¼Œé•¿æ²™æ–¯å¡”å…‹',
        'å¹¿ä¸œçœ': {
            'å¹¿å·å¸‚': 'çœ‹å°è›®è…°ï¼Œå–æ—©èŒ¶äº†å˜›~',
            'æ·±åœ³å¸‚': _0x5aba8d(0x24a),
            'é˜³æ±Ÿå¸‚': 'é˜³æ˜¥åˆæ°´ï¼åšä¸»å®¶ä¹¡~\x20æ¬¢è¿æ¥ç©~',
            'å…¶ä»–': 'æ¥ä¸¤æ–¤ç¦å»ºäºº~'
        },
        'å¹¿è¥¿å£®æ—è‡ªæ²»åŒº': _0x5aba8d(0x204),
        'æµ·å—çœ': _0x5aba8d(0x220),
        'å››å·çœ': _0x5aba8d(0x25b),
        'è´µå·çœ': _0x5aba8d(0x22d),
        'äº‘å—çœ': _0x5aba8d(0x23e),
        'è¥¿è—è‡ªæ²»åŒº': _0x5aba8d(0x253),
        'é™•è¥¿çœ': _0x5aba8d(0x1f2),
        'ç”˜è‚ƒçœ': 'ç¾Œç¬›ä½•é¡»æ€¨æ¨æŸ³ï¼Œæ˜¥é£ä¸åº¦ç‰é—¨å…³',
        'é’æµ·çœ': _0x5aba8d(0x251),
        'å®å¤å›æ—è‡ªæ²»åŒº': 'å¤§æ¼ å­¤çƒŸç›´ï¼Œé•¿æ²³è½æ—¥åœ†',
        'æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒº': 'é©¼é“ƒå¤é“ä¸ç»¸è·¯ï¼Œèƒ¡é©¬çŠ¹é—»å”æ±‰é£',
        'å°æ¹¾çœ': _0x5aba8d(0x1f5),
        'é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº': 'æ°¸å®šè´¼æœ‰æ®‹ç•™åœ°é¬¼åšï¼Œè¿å‡»å…‰éå²ç‰',
        'æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº': _0x5aba8d(0x205),
        'å…¶ä»–': _0x5aba8d(0x23a)
    },
    'ç¾å›½': 'Let\x20us\x20live\x20in\x20peace!',
    'æ—¥æœ¬': _0x5aba8d(0x223),
    'ä¿„ç½—æ–¯': 'å¹²äº†è¿™ç“¶ä¼ç‰¹åŠ ï¼',
    'æ³•å›½': _0x5aba8d(0x229),
    'å¾·å›½': _0x5aba8d(0x217),
    'æ¾³å¤§åˆ©äºš': _0x5aba8d(0x20a),
    'åŠ æ‹¿å¤§': _0x5aba8d(0x257),
    'å…¶ä»–': _0x5aba8d(0x243)
}
  , getGreeting = (_0x13a73f, _0x16e4df, _0x2dcc78) => {
    const _0x45bd79 = _0x5aba8d
      , _0x17a1c7 = greetings[_0x13a73f] || greetings['å…¶ä»–'];
    if (typeof _0x17a1c7 === _0x45bd79(0x245))
        return _0x17a1c7;
    const _0xab1fb8 = _0x17a1c7[_0x16e4df] || _0x17a1c7['å…¶ä»–'];
    if (typeof _0xab1fb8 === _0x45bd79(0x245))
        return _0xab1fb8;
    return _0xab1fb8[_0x2dcc78] || _0xab1fb8['å…¶ä»–'] || _0x17a1c7['å…¶ä»–'];
}
  , getTimeGreeting = () => {
    const _0x7e85d1 = _0x5aba8d
      , _0x2def10 = new Date()[_0x7e85d1(0x241)]();
    if (_0x2def10 < 0xb)
        return _0x7e85d1(0x237);
    if (_0x2def10 < 0xd)
        return _0x7e85d1(0x212);
    if (_0x2def10 < 0x11)
        return 'ä¸‹åˆå¥½ğŸ•\x20ï¼Œé¥®èŒ¶å…ˆå•¦ï¼';
    if (_0x2def10 < 0x13)
        return 'å³å°†ä¸‹ç­ğŸš¶â€â™‚ï¸ï¼Œè®°å¾—æŒ‰æ—¶åƒé¥­~';
    return _0x7e85d1(0x207);
}
  , showWelcome = ({data: _0x52d269, ip: _0x711021}) => {
    const _0x1d0abd = _0x5aba8d;
    if (!_0x52d269)
        return showErrorMessage();
    const {lng: _0x3a9429, lat: _0x44fb11, country: _0x2343c6, prov: _0x13edeb, city: _0x365ef5} = _0x52d269
      , _0x1b702c = {
        'lng': 121.23403,
        'lat': 31.39427
    }
      , _0x578f4c = _0x3a9429 && _0x44fb11 ? getDistance(_0x1b702c[_0x1d0abd(0x1f1)], _0x1b702c[_0x1d0abd(0x22b)], _0x3a9429, _0x44fb11) : 'N'
      , _0x59a919 = _0x711021['includes'](':') ? _0x1d0abd(0x25c) : _0x711021
      , _0x337643 = _0x2343c6 ? _0x2343c6 === 'ä¸­å›½' ? _0x13edeb + '\x20' + _0x365ef5 : _0x2343c6 : _0x1d0abd(0x22a)
      , _0x10386d = getGreeting(_0x2343c6, _0x13edeb, _0x365ef5)
      , _0x33acab = getTimeGreeting()
      , _0x5a0ab1 = document[_0x1d0abd(0x202)](_0x1d0abd(0x22e));
    _0x5a0ab1['style'][_0x1d0abd(0x222)] = _0x1d0abd(0x22f),
    _0x5a0ab1[_0x1d0abd(0x25e)][_0x1d0abd(0x24f)] = 'auto',
    _0x5a0ab1[_0x1d0abd(0x23b)] = _0x1d0abd(0x25f) + _0x337643 + _0x1d0abd(0x21d) + _0x578f4c + '</b>\x20å…¬é‡Œï¼<br>\x0a\x20\x20\x20\x20ä½ çš„IPåœ°å€ï¼š<b\x20class=\x22ip-address\x22>' + _0x59a919 + _0x1d0abd(0x255) + _0x33acab + _0x1d0abd(0x213) + _0x10386d + _0x1d0abd(0x249);
}
  , showErrorMessage = (_0x7ef4a='æŠ±æ­‰ï¼Œæ— æ³•è·å–ä¿¡æ¯') => {
    const _0x34abac = _0x5aba8d
      , _0x6a4d56 = document[_0x34abac(0x202)](_0x34abac(0x22e));
    _0x6a4d56['innerHTML'] = _0x34abac(0x1f0) + _0x7ef4a + _0x34abac(0x242),
    document[_0x34abac(0x202)]('retry-button')[_0x34abac(0x209)](_0x34abac(0x24d), fetchIpInfo);
}
  , handlePjaxComplete = () => {
    insertAnnouncementComponent();
    if (isHomePage())
        fetchIpInfo();
}
  , isHomePage = () => {
    const _0x1310bf = _0x5aba8d;
    return window['location'][_0x1310bf(0x234)] === '/' || window[_0x1310bf(0x216)][_0x1310bf(0x234)] === '/index.html';
}
  , initialize = () => {
    const _0x206c37 = _0x5aba8d;
    addStyles(),
    isHomePage() && (insertAnnouncementComponent(),
    fetchIpInfo()),
    document[_0x206c37(0x209)](_0x206c37(0x1f9), handlePjaxComplete);
}
;
function _0x2137() {
    const _0x32e485 = ['è±«å·ä¹‹åŸŸï¼Œå¤©åœ°ä¹‹ä¸­', 'ç‰é¾™é£èˆäº‘ç¼ ç»•ï¼Œä¸‡ä»å†°å·ç›´è€¸å¤©', 'æ¥ç¢—çƒ­å¹²é¢~', 'ä¼—æ‰€å‘¨çŸ¥ï¼Œä¸­å›½åªæœ‰ä¸¤ä¸ªåŸå¸‚', 'getHours', '</p>\x0a\x20\x20\x20\x20\x20\x20<p>è¯·<i\x20id=\x22retry-button\x22\x20class=\x22fa-solid\x20fa-arrows-rotate\x22></i>é‡è¯•æˆ–æ£€æŸ¥ç½‘ç»œè¿æ¥</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20', 'å¸¦æˆ‘å»ä½ çš„å›½å®¶é€›é€›å§', '14137965kBPEEw', 'string', 'åˆšæ­£ä¸é˜¿åŒ…é’å¤©', 'insertBefore', 'ä¸œé£æ¸ç»¿è¥¿æ¹–æŸ³ï¼Œé›å·²è¿˜äººæœªå—å½’', 'ğŸ‚</b>\x0a\x20\x20', 'ä»Šå¤©ä½ é€›å•†åœºäº†å˜›~', 'sqrt', '37942otfuns', 'click', 'dataset', 'height', 'æ•£è£…æ˜¯å¿…é¡»è¦æ•£è£…çš„', 'ç‰›è‚‰å¹²å’Œè€é…¸å¥¶éƒ½å¥½å¥½åƒ', 'tagName', 'èººåœ¨èŒ«èŒ«è‰åŸä¸Šï¼Œä»°æœ›è“å¤©', '4940936iNydOP', '</b><br>\x0a\x20\x20\x20\x20', 'å±•å¼€åå…·é•¿ä¸‰å°ºï¼Œå·²å å±±æ²³äº”ç™¾ä½™', 'æ‹¾èµ·ä¸€ç‰‡æ«å¶èµ äºˆä½ ', 'å¾ˆå–œæ¬¢å“ˆå°”æ»¨å¤§å‰§é™¢', 'round', 'æœ›æµ·æ¥¼æ˜ç…§æ›™éœ,æŠ¤æ±Ÿå ¤ç™½è¹‹æ™´æ²™', 'åº·åº·å·å¦¹å­', '<br>å¥½å¤æ‚ï¼Œå’±çœ‹ä¸æ‡‚~(ipv6)', 'çº¢å®‰å°†å†›å¿ï¼è¾ˆå‡ºå°†æ‰ï¼', 'style', '\x0a\x20\x20\x20\x20æ¬¢è¿æ¥è‡ª\x20<b>', '\x0a\x20\x20\x20\x20<div\x20class=\x22error-message\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22error-icon\x22>ğŸ˜•</div>\x0a\x20\x20\x20\x20\x20\x20<p>', 'lng', 'æ¥ä»½è‡Šå­é¢åŠ é¦', 'add', '4820ACVhcY', 'æˆ‘åœ¨è¿™å¤´ï¼Œå¤§é™†åœ¨é‚£å¤´', 'locationPermission', 'textContent', 'action', 'pjax:complete', 'target', '3848131DSodZK', 'çŠ¶å…ƒé˜å°±æ˜¯ä¸œåŒ—çƒ§çƒ¤ä¹‹ç‹', 'card-widget', '.card-widget.card-ip-info', 'è¿™æ˜¯æˆ‘æŒºæƒ³å»çš„åŸå¸‚å•¦', 'sin', '167528bKuBAU', 'getElementById', 'èšŒåŸ ä½äº†ï¼ŒèŠœæ¹–èµ·é£', 'æ¡‚æ—å±±æ°´ç”²å¤©ä¸‹', 'æ€§æ„Ÿè·å®˜ï¼Œåœ¨çº¿å‘ç‰Œ', 'head', 'æ™šä¸Šå¥½ğŸŒ™\x20ï¼Œå¤œç”Ÿæ´»å—¨èµ·æ¥ï¼', 'atan2', 'addEventListener', 'ä¸€èµ·å»å¤§å ¡ç¤å§ï¼', 'appendChild', 'getItem', 'createElement', 'ç½‘ç»œå“åº”ä¸æ­£å¸¸', 'classList', 'è®²æ®µç›¸å£°å§', 'granted', 'ä¸­åˆå¥½â˜€ï¸\x20ï¼Œè®°å¾—åˆä¼‘å–”~', '<br>\x0a\x20\x20\x20\x20Tipï¼š<b>', 'è½éœä¸å­¤é¹œé½é£ï¼Œç§‹æ°´å…±é•¿å¤©ä¸€è‰²', 'querySelector', 'location', 'Die\x20Zeit\x20verging\x20im\x20Fluge.', 'æ´›é˜³ç‰¡ä¸¹ç”²å¤©ä¸‹', 'allow', '<div\x20class=\x22loading-spinner\x22></div>', 'é¥æœ›é½å·ä¹ç‚¹çƒŸï¼Œä¸€æ³“æµ·æ°´æ¯ä¸­æ³»', 'setItem', '</b>\x20çš„å°å‹ğŸ’–<br>\x0a\x20\x20\x20\x20ä½ å½“å‰è·åšä¸»çº¦\x20<b>', '1602GutGSS', 'è‡£æœ¬å¸ƒè¡£ï¼Œèº¬è€•äºå—é˜³æ­¤å—é˜³éå½¼å—é˜³ï¼', 'æœè§‚æ—¥å‡ºé€ç™½æµªï¼Œå¤•çœ‹äº‘èµ·æ”¶éœå…‰', 'remove', 'display', 'ã‚ˆã‚ã—ãã€ä¸€ç·’ã«æ¡œã‚’è¦‹ã¾ã›ã‚“ã‹', 'nextSibling', 'cos', '48Qikowl', 'denied', 'å¯å¦å¸¦æˆ‘å“å°æ²³å—çƒ©é¢å•¦ï¼Ÿ', 'C\x27est\x20La\x20Vie', 'ç¥ç§˜åœ°åŒº', 'lat', '\x0a\x20\x20\x20\x20<div\x20class=\x22permission-dialog\x22>\x0a\x20\x20\x20\x20\x20\x20<div\x20class=\x22error-icon\x22>â“</div>\x0a\x20\x20\x20\x20\x20\x20<p>æ˜¯å¦å…è®¸è®¿é—®æ‚¨çš„ä½ç½®ä¿¡æ¯ï¼Ÿ</p>\x0a\x20\x20\x20\x20\x20\x20<button\x20data-action=\x22allow\x22>å…è®¸</button>\x0a\x20\x20\x20\x20\x20\x20<button\x20data-action=\x22deny\x22>æ‹’ç»</button>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20', 'èŒ…å°ï¼Œå­¦ç”Ÿï¼Œå†å¡200', 'welcome-info', 'block', 'ä¸Šæœ‰å¤©å ‚ï¼Œä¸‹æœ‰è‹æ­', 'å³°å³°æœ‰å¥‡çŸ³ï¼ŒçŸ³çŸ³æŒŸä»™æ°”åµ–å²ˆå±±çš„èŠ±å¾ˆç¾å“¦ï¼', 'å¤©è‹è‹ï¼Œé‡èŒ«èŒ«ï¼Œé£å¹è‰ä½è§ç‰›ç¾Š', 'åŒ—â€”â€”äº¬â€”â€”æ¬¢è¿ä½ ~~~', 'pathname', 'div', '548950hdYVif', 'æ—©ä¸Šå¥½ğŸŒ¤ï¸\x20ï¼Œä¸€æ—¥ä¹‹è®¡åœ¨äºæ™¨', 'json', 'map', 'å¸¦æˆ‘å»ä½ çš„åŸå¸‚é€›é€›å§ï¼', 'innerHTML', 'parentNode'];
    _0x2137 = function() {
        return _0x32e485;
    }
    ;
    return _0x2137();
}
window['onload'] = initialize;


~~~

- åœ¨ç¬¬`6`è¡ŒåŠç¬¬`32`è¡Œåˆ†åˆ«å¡«å…¥è‡ªå·±çš„Keyå’Œç»çº¬åº¦
- åœ¨`_config.anzhiyu.yml`ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸‹`inject`é…ç½®é¡¹ä¸­çš„`bottom`å¼•å…¥`welcome.js`

~~~yaml
inject:

  bottom:
    - <script defer="true" src="/js/welcome.js"></script> # ä¸ªæ€§å®šä½æ¬¢è¿ä¿¡æ¯
~~~

- åœ¨hexoç›®å½•ä¸‹æ–°å»º`source/css/welcome.css`æ–‡ä»¶ï¼Œæ–°å¢ä»¥ä¸‹å†…å®¹(è‹¥æ²¡æœ‰cssæ–‡ä»¶å¤¹ç›´æ¥æ–°å»ºå³å¯)
  è¿™å—å¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½å»ä¿®æ”¹~

~~~yaml
#welcome-info {
    overflow: hidden;
    border-radius: 14px;
    --kouseki-welcome-color: #49B1F5;
    --kouseki-ip-color: #49B1F5;
    --kouseki-gl-size: 16px!important;
  }
~~~

- åœ¨`_config.anzhiyu.yml`ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸‹`inject`é…ç½®é¡¹ä¸­çš„`head`å¼•å…¥`welcome.css`

~~~yaml
inject:

  head:
    - <link rel="stylesheet" href="/css/welcome.css?1">
~~~

è‡³æ­¤å·²ç»æ•´ä½“é…ç½®å®Œæ¯•ï¼Œå¯ä»¥å°†ç›¸åº”çš„divå®¹å™¨æ”¾åœ¨éœ€è¦çš„ä½ç½®~ï¼Œä¾‹å¦‚æ”¾åˆ°anzhiyuä¸»é¢˜çš„å…¬å‘Šæ ä½ç½®

- åœ¨`_config.anzhiyu.yml`ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸‹`aside`é…ç½®é¡¹ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹

~~~yaml
card_announcement:
  enable: true
  content: <div id="welcome-info"></div>
~~~

